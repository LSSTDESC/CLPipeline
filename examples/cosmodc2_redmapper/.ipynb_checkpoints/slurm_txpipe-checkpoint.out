**********************************************************************
*                         SLURM Batch System                         *
*              IN2P3 Computing Centre, Villeurbanne FR               *
**********************************************************************
* Date:                 Thu Feb 19 02:56:43 PM CET 2026
* Job name:             launch_job_both.sh
* Job id:               28216718
* User:                 ebarroso
* Account:              lsst
* Submit host:          cca012
* Partition:            hpc
* Quality of service:   normal
* Nodelist:             ccwpslurm0024
* Operating System:     Red Hat Enterprise Linux release 9.7 (Plow)
* Architecture:         x86_64
**********************************************************************
/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/txpipe_clp/lib/python3.12/site-packages/ceci/__init__.py:12: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import DistributionNotFound
SES - yaml config file :  TXPipe
SES - final yaml config :  {'id': 'TXPipe', 'site': {'name': 'local', 'max_threads': 60}, 'launcher': {'name': 'mini', 'interval': 0.5}, 'modules': 'txpipe txpipe.extensions rail.estimation.algos.bpz_lite\n', 'python_paths': [], 'stages': [{'name': 'TXSourceSelectorMetadetect', 'nprocess': 60}, {'name': 'BPZliteInformer', 'nprocess': 1, 'aliases': {'input': 'spectroscopic_catalog', 'model': 'photoz_model'}}, {'name': 'BPZliteEstimator', 'nprocess': 60, 'aliases': {'model': 'photoz_model', 'input': 'shear_catalog', 'output': 'source_photoz_pdfs'}}, {'name': 'CLClusterBinningRedshiftRichness', 'nprocess': 1}, {'name': 'CLClusterShearCatalogs', 'nprocess': 10}, {'name': 'CLClusterEnsembleProfiles', 'nprocess': 10}, {'name': 'CLClusterSACC', 'nprocess': 1, 'aliases': {'cluster_profiles': 'cluster_profiles'}}], 'output_dir': '/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026/', 'log_dir': './logs_both', 'config': './cosmodc2_config_both.yml', 'inputs': {'shear_catalog': '/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/full/shear_catalog.hdf5', 'fiducial_cosmology': '/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/fiducial_cosmology.yml', 'calibration_table': '/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/20deg2/sample_cosmodc2_w10year_errors.dat', 'spectroscopic_catalog': '/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/20deg2/spectroscopic_catalog.hdf5', 'cluster_catalog': '/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/full/cluster_catalog.hdf5'}, 'resume': True, 'pipeline_log': './logs_both/log_full.txt'}

Executing TXSourceSelectorMetadetect
Command is:
OMP_NUM_THREADS=1  mpirun -n 60 python3 -m txpipe TXSourceSelectorMetadetect   --shear_catalog=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/full/shear_catalog.hdf5   --spectroscopic_catalog=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/20deg2/spectroscopic_catalog.hdf5   --config=./cosmodc2_config_both.yml   --shear_tomography_catalog=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//shear_tomography_catalog.hdf5 --mpi
Output writing to ./logs_both/TXSourceSelectorMetadetect.out

Job TXSourceSelectorMetadetect has completed successfully in 7 minutes, 0.6 seconds seconds !

Executing BPZliteInformer
Command is:
OMP_NUM_THREADS=1   python3 -m ceci rail.estimation.algos.bpz_lite.BPZliteInformer   --input=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/20deg2/spectroscopic_catalog.hdf5   --config=./cosmodc2_config_both.yml   --model=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//photoz_model.pkl 
Output writing to ./logs_both/BPZliteInformer.out

Job BPZliteInformer has completed successfully in 5.5 seconds seconds !

Executing CLClusterBinningRedshiftRichness
Command is:
OMP_NUM_THREADS=1   python3 -m txpipe CLClusterBinningRedshiftRichness   --cluster_catalog=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/full/cluster_catalog.hdf5   --config=./cosmodc2_config_both.yml   --cluster_catalog_tomography=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//cluster_catalog_tomography.hdf5 
Output writing to ./logs_both/CLClusterBinningRedshiftRichness.out

Job CLClusterBinningRedshiftRichness has completed successfully in 2.5 seconds seconds !

Executing BPZliteEstimator
Command is:
OMP_NUM_THREADS=1  mpirun -n 60 python3 -m ceci rail.estimation.algos.bpz_lite.BPZliteEstimator   --model=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//photoz_model.pkl   --input=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/full/shear_catalog.hdf5   --config=./cosmodc2_config_both.yml   --output=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//source_photoz_pdfs.hdf5 --mpi
Output writing to ./logs_both/BPZliteEstimator.out

Job BPZliteEstimator has completed successfully in 1 hours, 21 minutes, 19.1 seconds seconds !

Executing CLClusterShearCatalogs
Command is:
OMP_NUM_THREADS=1  mpirun -n 10 python3 -m txpipe CLClusterShearCatalogs   --cluster_catalog=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/full/cluster_catalog.hdf5   --shear_catalog=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/full/shear_catalog.hdf5   --fiducial_cosmology=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/fiducial_cosmology.yml   --shear_tomography_catalog=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//shear_tomography_catalog.hdf5   --source_photoz_pdfs=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//source_photoz_pdfs.hdf5   --config=./cosmodc2_config_both.yml   --cluster_shear_catalogs=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026//cluster_shear_catalogs.hdf5 --mpi
Output writing to ./logs_both/CLClusterShearCatalogs.out


*************************************************
Error running pipeline stage CLClusterShearCatalogs.
Failed after 47 minutes, 15.3 seconds.

Standard output and error streams in ./logs_both/CLClusterShearCatalogs.out
*************************************************
Job CLClusterShearCatalogs has failed with status 255
Pipeline failed.  No joy sparked.
/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/txpipe_clp/lib/python3.12/site-packages/ceci/__init__.py:12: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import DistributionNotFound
SES - yaml config file :  TJPCov
SES - final yaml config :  {'id': 'TJPCov', 'modules': 'clpipeline', 'launcher': {'name': 'mini', 'interval': 0.5}, 'site': {'name': 'local', 'max_threads': 4}, 'stages': [{'name': 'TJPCovPipeline', 'module_name': 'clpipeline.tjpcov_pipeline', 'nprocess': 1}], 'inputs': {'clusters_sacc_file': '/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026/cluster_sacc_catalog.sacc'}, 'config': './cosmodc2_config_both.yml', 'resume': False, 'output_dir': './outputs_both', 'log_dir': './logs_both'}

Executing TJPCovPipeline
Command is:
OMP_NUM_THREADS=1   python3 -m clpipeline TJPCovPipeline   --clusters_sacc_file=/sps/lsst/groups/clusters/cl_pipeline_project/TXPipe_data/cosmodc2/outputs-full-2026/cluster_sacc_catalog.sacc   --config=./cosmodc2_config_both.yml   --clusters_sacc_file_cov=./outputs_both/clusters_sacc_file_cov.sacc 
Output writing to ./logs_both/TJPCovPipeline.out


*************************************************
Error running pipeline stage TJPCovPipeline.
Failed after 10.0 seconds.

Standard output and error streams in ./logs_both/TJPCovPipeline.out
*************************************************
Job TJPCovPipeline has failed with status 1
Pipeline failed.  No joy sparked.
WARNING: overwriting environment variables set in the machine
overwriting variable ['CSL_DIR', 'FIRECROWN_DIR']
/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/ceci/__init__.py:12: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import DistributionNotFound
SES - yaml config file :  Firecrown
SES - final yaml config :  {'id': 'Firecrown', 'modules': 'clpipeline', 'launcher': {'name': 'mini', 'interval': 0.5}, 'site': {'name': 'local', 'max_threads': 4}, 'stages': [{'name': 'FirecrownPipeline', 'module_name': 'clpipeline.firecrown_pipeline', 'nprocess': 1}], 'inputs': {'clusters_sacc_file_cov': './outputs_both/clusters_sacc_file_cov.sacc'}, 'config': './cosmodc2_config_both.yml', 'resume': False, 'output_dir': './outputs_both', 'log_dir': './logs_both'}

Executing FirecrownPipeline
Command is:
OMP_NUM_THREADS=1   python3 -m clpipeline FirecrownPipeline   --clusters_sacc_file_cov=./outputs_both/clusters_sacc_file_cov.sacc   --config=./cosmodc2_config_both.yml   --cluster_counts_mean_mass_redshift_richness=./outputs_both/cluster_counts_mean_mass_redshift_richness.ini   --cluster_redshift_richness=./outputs_both/cluster_redshift_richness.py   --cluster_richness_values=./outputs_both/cluster_richness_values.ini 
Output writing to ./logs_both/FirecrownPipeline.out

Job FirecrownPipeline has completed successfully in 29.0 seconds seconds !
Pipeline successful.  Joy is sparked.
Deprecated: The [pipeline] quiet option is deprecated.  Set [runtime] verbosity instead.
Setting up pipeline from parameter file cluster_counts_mean_mass_redshift_richness.ini
--------------------------------------------------------------------------------------

Setting up module consistency
------------------------------

Setting up module camb
-----------------------
/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/cosmosis-standard-library/boltzmann/camb/camb_interface.py:183: UserWarning: Option kmin does not have an effect.
  warnings.warn("Option kmin does not have an effect.")
**** WARNING: Parameter 'kmin' in the [camb] section never used!


Setting up module firecrown_likelihood
---------------------------------------
Traceback (most recent call last):
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/bin/cosmosis", line 4, in <module>
    status = cosmosis.main.main()
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/cosmosis/main.py", line 585, in main
    return run_cosmosis(ini=args.inifile, pool=None, override=args.params, profile_mem=args.mem, profile_cpu=args.profile, variables=args.variables, only=args.only)
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/cosmosis/main.py", line 299, in run_cosmosis
    pipeline = LikelihoodPipeline(ini, override=variables, values=values, only=only, priors=priors)
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/cosmosis/runtime/pipeline.py", line 778, in __init__
    self.setup()
    ~~~~~~~~~~^^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/cosmosis/runtime/pipeline.py", line 464, in setup
    module.setup(config_block)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/cosmosis/runtime/module.py", line 231, in setup
    self.setup_functions(config)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/cosmosis/runtime/module.py", line 204, in setup_functions
    self.data = self.setup_function(config)
                ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/firecrown/connector/cosmosis/likelihood.py", line 359, in setup
    return FirecrownLikelihood(config)
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/firecrown/connector/cosmosis/likelihood.py", line 72, in __init__
    self.likelihood, self.tools = load_likelihood(
                                  ~~~~~~~~~~~~~~~^
        likelihood_source, build_parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/firecrown/likelihood/_likelihood.py", line 228, in load_likelihood
    return load_likelihood_from_script(likelihood_name, build_parameters)
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/firecrown/likelihood/_likelihood.py", line 175, in load_likelihood_from_script
    return load_likelihood_from_module_type(mod, build_parameters)
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/firecrown/likelihood/_likelihood.py", line 108, in load_likelihood_from_module_type
    build_return = build_likelihood(build_parameters)
  File "/sps/lsst/users/ebarroso/CLPipeline/examples/cosmodc2_redmapper/fixed_concentration/cosmodc2_redmapper_lensing/outputs_both/cluster_redshift_richness.py", line 95, in build_likelihood
    sacc_data = sacc.Sacc.load_fits(sacc_path)
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/sacc/sacc.py", line 971, in load_fits
    with fits.open(filename, mode="readonly") as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/astropy/io/fits/hdu/hdulist.py", line 220, in fitsopen
    return HDUList.fromfile(
           ~~~~~~~~~~~~~~~~^
        name,
        ^^^^^
    ...<9 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/astropy/io/fits/hdu/hdulist.py", line 484, in fromfile
    return cls._readfrom(
           ~~~~~~~~~~~~~^
        fileobj=fileobj,
        ^^^^^^^^^^^^^^^^
    ...<6 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/astropy/io/fits/hdu/hdulist.py", line 1186, in _readfrom
    fileobj = _File(
        fileobj,
    ...<5 lines>...
        decompress_in_memory=decompress_in_memory,
    )
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/astropy/io/fits/file.py", line 240, in __init__
    self._open_filename(fileobj, mode, overwrite)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/sps/lsst/groups/clusters/cl_pipeline_project/conda_envs/firecrown_developer_clp/lib/python3.13/site-packages/astropy/io/fits/file.py", line 701, in _open_filename
    self._file = open(self.name, IO_FITS_MODES[mode])
                 ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'clusters_sacc_file_cov.sacc'
****************************************************************
*                      SLURM Batch System                      *
*           IN2P3 Computing Centre, Villeurbanne FR            *
****************************************************************
Date: Thu Feb 19 05:14:25 PM CET 2026
Job informations can be found using these commands:
Accounting:
sacct -j 28216718
Efficiency:
seff 28216718
****************************************************************
